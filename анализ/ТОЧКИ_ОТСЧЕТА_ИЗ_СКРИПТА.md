# Точки отсчета координат, масштабов из script_00_module.js

## Найденные ключевые значения

### Функция setupResponsiveScaling

```javascript
setupResponsiveScaling(){
    Jl();  // Инициализация констант
    const e = window.innerWidth;
    const A = window.innerHeight / Me;  // Масштаб по высоте
    this.app.stage.scale.set(A);
    const r = $e * A;  // Ширина игрового экрана после масштабирования
    const s = (e - r) / 2;  // Смещение по X для центрирования
    this.app.stage.position.set(s, 0);
    const n = this.app.canvas;
    n.style.position = "absolute";
    n.style.left = "0";
    n.style.top = "0";
}
```

### Использование в burstFromSides

```javascript
this.confettiEmitter.burstFromSides($e, Me)
```

Это указывает на то, что:
- `$e` - ширина игрового экрана (базовая ширина)
- `Me` - высота игрового экрана (базовая высота)

### Система координат

**Точка отсчета (origin):**
- **X = 0**: левый край экрана
- **Y = 0**: верхний край экрана
- Система координат: **сверху вниз** (как в HTML/CSS)

**Масштабирование:**
- Масштаб вычисляется как: `scale = window.innerHeight / Me`
- Где `Me` - фиксированная базовая высота экрана
- Ширина игрового экрана: `gameWidth = $e * scale`
- Позиция stage по X: `(window.innerWidth - gameWidth) / 2` (центрирование)

### Референсные значения (из анализа существующих файлов)

Согласно анализу в файле `ТОЧКИ_ОТСЧЕТА_РЕФЕРЕНС.md`:

1. **Размеры экрана (базовые):**
   - `Me = 1280px` - базовая высота экрана
   - `$e = 720px` - базовая ширина экрана (в портретной ориентации)
   - `yt = 720px` - единица расстояния (ширина экрана)
   - `es = 1280px` - ширина экрана в альбомной ориентации

2. **Позиционирование игрока:**
   - X позиция: `window.innerWidth * 0.18` (18% от ширины экрана)
   - Y позиция: `roadY = Me - oe.GROUND_Y = 1280 - 280 = 1000px` (от верха экрана)
   - Масштаб спрайта: `0.54` (фиксированное значение)

3. **Позиция дороги (ground):**
   - `oe.GROUND_Y = 280px` - отступ от низа экрана
   - `roadY = 1280 - 280 = 1000px` - позиция дороги от верха экрана

### Ключевые выводы

1. **Точка отсчета координат:**
   - **X = 0**: левый край экрана
   - **Y = 0**: верхний край экрана
   - Система координат: **сверху вниз** (как в HTML/CSS)

2. **Масштабирование:**
   - Базовая ширина: `$e = 720px`
   - Базовая высота: `Me = 1280px`
   - Масштаб вычисляется динамически: `scale = window.innerHeight / Me`
   - Все координаты и размеры должны быть в базовых единицах (720x1280)

3. **Центрирование:**
   - Игровой экран центрируется по горизонтали
   - Смещение по X: `(window.innerWidth - $e * scale) / 2`
   - Смещение по Y: `0` (прижато к верху)

4. **Позиционирование элементов:**
   - Все координаты задаются относительно базового размера экрана (720x1280)
   - При масштабировании координаты автоматически масштабируются через `stage.scale`
   - Позиция stage смещается для центрирования по горизонтали

### Важные замечания

- Файл минифицирован, поэтому переменные имеют короткие имена (`$e`, `Me`, `yt`, `es`)
- Функция `Jl()` инициализирует эти константы (вероятно, устанавливает `Me = 1280`, `$e = 720`)
- Canvas позиционируется абсолютно (`position: absolute`, `left: 0`, `top: 0`)
- Stage масштабируется и смещается для адаптации к разным размерам экрана

### Итоговые значения точек отсчета

**Базовые размеры экрана:**
- `$e = 720px` - базовая ширина игрового экрана
- `Me = 1280px` - базовая высота игрового экрана

**Точка отсчета координат:**
- **X = 0**: левый край экрана
- **Y = 0**: верхний край экрана
- Система координат: **сверху вниз** (как в HTML/CSS)

**Масштабирование:**
- Масштаб: `scale = window.innerHeight / 1280`
- Ширина игрового экрана после масштабирования: `720 * scale`
- Центрирование по X: `(window.innerWidth - 720 * scale) / 2`

**Позиционирование элементов:**
- Все координаты задаются в базовых единицах (720x1280)
- При масштабировании координаты автоматически масштабируются через `stage.scale`
- Позиция stage смещается для центрирования по горизонтали
